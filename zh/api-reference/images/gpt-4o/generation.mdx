---
title: 'GPT-4o-image å›¾åƒç”Ÿæˆ'
description: 'â€¢ å¼‚æ­¥å¤„ç†æ¨¡å¼ï¼Œè¿”å›ä»»åŠ¡ ID ä»¥ä¾¿åç»­æŸ¥è¯¢<br/>â€¢ æ”¯æŒå¤šç§ç”Ÿæˆæ¨¡å¼ï¼ŒåŒ…æ‹¬æ–‡æœ¬ç”Ÿæˆå›¾åƒã€å›¾åƒç”Ÿæˆå›¾åƒåŠå›¾åƒç¼–è¾‘<br/>â€¢ ç”Ÿæˆçš„å›¾ç‰‡é“¾æ¥æœ‰æ•ˆæœŸä¸º 24 å°æ—¶ï¼Œè¯·åŠæ—¶ä¿å­˜'
api: 'POST https://api.apimart.ai/v1/images/generations'
---
## Authorizations

<ParamField header="Authorization" type="string" required>
  æ‰€æœ‰ API ç«¯ç‚¹éƒ½éœ€è¦ Bearer Token è®¤è¯

  è·å–æ‚¨çš„ API å¯†é’¥ï¼š

  è®¿é—® [API Key ç®¡ç†é¡µé¢](https://apimart.ai/console/token) ä»¥è·å–æ‚¨çš„ API å¯†é’¥

  å°†å…¶æ·»åŠ åˆ°è¯·æ±‚å¤´ï¼š

  ```
  Authorization: Bearer YOUR_API_KEY
  ```
</ParamField>

## Body

<ParamField body="model" type="string" default="gpt-4o-image" required>
  å›¾åƒç”Ÿæˆæ¨¡å‹åç§°

  ä¾‹å¦‚: `"gpt-4o-image"`
</ParamField>

<ParamField body="prompt" type="string" required>
  å›¾åƒç”Ÿæˆçš„æ–‡æœ¬æè¿°

  æœ€å¤š1000ä¸ªå­—ç¬¦
</ParamField>

<ParamField body="size" type="string">
  å›¾åƒç”Ÿæˆå°ºå¯¸

  æ”¯æŒçš„æ ¼å¼ï¼š

  * çºµæ¨ªæ¯”ï¼š`1:1`ï¼Œ`2:3`ï¼Œ`3:2`
</ParamField>

<ParamField body="n" type="integer">
  ç”Ÿæˆå›¾åƒæ•°é‡

  æ”¯æŒ1ã€2ã€4ã€‚è´¹ç”¨å°†æŒ‰æ•°é‡é¢„æ‰£

  é»˜è®¤å€¼ï¼š1

  **âš ï¸ æ³¨æ„ï¼š** å¿…é¡»è¾“å…¥çº¯æ•°å­—ï¼ˆä¾‹å¦‚ï¼Œ`1`ï¼‰ï¼Œä¸èƒ½ä½¿ç”¨å¼•å·ï¼Œå¦åˆ™ä¼šæŠ¥é”™
</ParamField>

<ParamField body="image_urls" type="array">
  ç”¨äºå›¾åƒåˆ°å›¾åƒæˆ–å›¾åƒç¼–è¾‘çš„å‚è€ƒå›¾åƒURLåˆ—è¡¨

  **ğŸ’¡ å¿«é€Ÿå¡«å†™ï¼ˆè¯•ç”¨åŒºï¼‰ï¼š**

  1. ç‚¹å‡»â€œ+ æ·»åŠ ä¸€é¡¹â€æ·»åŠ å›¾åƒURL
  2. è¾“å…¥å®Œæ•´çš„å›¾åƒURLåœ°å€

  <Expandable title="å­—æ®µè¯¦æƒ…">
    <ParamField body="url" type="string" required>
      å›¾åƒURLåœ°å€

      å¯ä»¥æ˜¯ï¼š

      * å…¬å¼€å¯è®¿é—®çš„å›¾åƒURLï¼ˆhttp\:// æˆ– https\://ï¼‰
      * Base64ç¼–ç çš„å›¾åƒæ•°æ®

      **é™åˆ¶æ¡ä»¶ï¼š**

      * å•å¼ å›¾åƒæœ€å¤§10MB
      * æ”¯æŒæ ¼å¼ï¼š.jpegã€.jpgã€.pngã€.webp
    </ParamField>
  </Expandable>

  **é™åˆ¶:** æœ€å¤š5å¼ å›¾åƒ
</ParamField>

<ParamField body="mask_url" type="string">
  é®ç½©å›¾åƒURL

  * å¿…é¡»ä¸ºPNGæ ¼å¼
  * å°ºå¯¸å¿…é¡»ä¸å‚è€ƒå›¾åƒåŒ¹é…
  * æœ€å¤§4MB
</ParamField>

## Response

<ResponseField name="code" type="integer">
  å“åº”çŠ¶æ€ç 
</ResponseField>

<ResponseField name="data" type="array">
  å“åº”æ•°æ®æ•°ç»„

  <Expandable title="å±æ€§">
    <ResponseField name="status" type="string">
      ä»»åŠ¡çŠ¶æ€

      * `submitted` - å·²æäº¤
    </ResponseField>

    <ResponseField name="task_id" type="string">
      å”¯ä¸€çš„ä»»åŠ¡æ ‡è¯†ç¬¦
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>
  ```bash cURL theme={null}
  curl --request POST \
    --url https://api.apimart.ai/v1/images/generations \
    --header 'Authorization: Bearer <token>' \
    --header 'Content-Type: application/json' \
    --data '{
      "model": "gpt-4o-image",
      "prompt": "æ˜Ÿç©ºä¸‹çš„å¤è€åŸå ¡",
      "size": "1:1",
      "n": 1,
      "image_urls": [
        "https://cdn.apimart.ai/doc/9998238784524590-549804af-14bc-4fbc-bae5-9d8469d35de3-image_task_01K889V97T2YF8RHQW21XMVMS1_0.png"
      ]
    }'
  ```

  ```python Python theme={null}
  import requests

  url = "https://api.apimart.ai/v1/images/generations"

  payload = {
      "model": "gpt-4o-image",
      "prompt": "æ˜Ÿç©ºä¸‹çš„å¤è€åŸå ¡",
      "size": "1:1",
      "n": 1,
      "image_urls": [
          "https://cdn.apimart.ai/doc/9998238784524590-549804af-14bc-4fbc-bae5-9d8469d35de3-image_task_01K889V97T2YF8RHQW21XMVMS1_0.png"
      ]
  }

  headers = {
      "Authorization": "Bearer <token>",
      "Content-Type": "application/json"
  }

  response = requests.post(url, json=payload, headers=headers)

  print(response.json())
  ```

  ```javascript JavaScript theme={null}
  const url = "https://api.apimart.ai/v1/images/generations";

  const payload = {
    model: "gpt-4o-image",
    prompt: "æ˜Ÿç©ºä¸‹çš„å¤è€åŸå ¡",
    size: "1:1",
    n: 1,
    image_urls: [
      "https://cdn.apimart.ai/doc/9998238784524590-549804af-14bc-4fbc-bae5-9d8469d35de3-image_task_01K889V97T2YF8RHQW21XMVMS1_0.png"
    ]
  };

  const headers = {
    "Authorization": "Bearer <token>",
    "Content-Type": "application/json"
  };

  fetch(url, {
    method: "POST",
    headers: headers,
    body: JSON.stringify(payload)
  })
    .then(response => response.json())
    .then(data => console.log(data))
    .catch(error => console.error('Error:', error));
  ```

  ```go Go theme={null}
  package main

  import (
      "bytes"
      "encoding/json"
      "fmt"
      "io/ioutil"
      "net/http"
  )

  func main() {
      url := "https://api.apimart.ai/v1/images/generations"

      payload := map[string]interface{}{
          "model":  "gpt-4o-image",
          "prompt": "æ˜Ÿç©ºä¸‹çš„å¤è€åŸå ¡",
          "size":   "1:1",
          "n":      1,
          "image_urls": []string{
              "https://cdn.apimart.ai/doc/9998238784524590-549804af-14bc-4fbc-bae5-9d8469d35de3-image_task_01K889V97T2YF8RHQW21XMVMS1_0.png",
          },
      }

      jsonData, _ := json.Marshal(payload)

      req, _ := http.NewRequest("POST", url, bytes.NewBuffer(jsonData))
      req.Header.Set("Authorization", "Bearer <token>")
      req.Header.Set("Content-Type", "application/json")

      client := &http.Client{}
      resp, err := client.Do(req)
      if err != nil {
          panic(err)
      }
      defer resp.Body.Close()

      body, _ := ioutil.ReadAll(resp.Body)
      fmt.Println(string(body))
  }
  ```

  ```java Java theme={null}
  import java.net.http.HttpClient;
  import java.net.http.HttpRequest;
  import java.net.http.HttpResponse;
  import java.net.URI;

  public class Main {
      public static void main(String[] args) throws Exception {
          String url = "https://api.apimart.ai/v1/images/generations";

          String payload = """
          {
            "model": "gpt-4o-image",
            "prompt": "æ˜Ÿç©ºä¸‹çš„å¤è€åŸå ¡",
            "size": "1:1",
            "n": 1,
            "image_urls": [
              "https://cdn.apimart.ai/doc/9998238784524590-549804af-14bc-4fbc-bae5-9d8469d35de3-image_task_01K889V97T2YF8RHQW21XMVMS1_0.png"
            ]
          }
          """;

          HttpClient client = HttpClient.newHttpClient();
          HttpRequest request = HttpRequest.newBuilder()
              .uri(URI.create(url))
              .header("Authorization", "Bearer <token>")
              .header("Content-Type", "application/json")
              .POST(HttpRequest.BodyPublishers.ofString(payload))
              .build();

          HttpResponse<String> response = client.send(request,
              HttpResponse.BodyHandlers.ofString());

          System.out.println(response.body());
      }
  }
  ```

  ```php PHP theme={null}
  <?php

  $url = "https://api.apimart.ai/v1/images/generations";

  $payload = [
      "model" => "gpt-4o-image",
      "prompt" => "æ˜Ÿç©ºä¸‹çš„å¤è€åŸå ¡",
      "size" => "1:1",
      "n" => 1,
      "image_urls" => [
          "https://cdn.apimart.ai/doc/9998238784524590-549804af-14bc-4fbc-bae5-9d8469d35de3-image_task_01K889V97T2YF8RHQW21XMVMS1_0.png"
      ]
  ];

  $ch = curl_init($url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($ch, CURLOPT_POST, true);
  curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($payload));
  curl_setopt($ch, CURLOPT_HTTPHEADER, [
      "Authorization: Bearer <token>",
      "Content-Type: application/json"
  ]);

  $response = curl_exec($ch);
  curl_close($ch);

  echo $response;
  ?>
  ```

  ```ruby Ruby theme={null}
  require 'net/http'
  require 'json'
  require 'uri'

  url = URI("https://api.apimart.ai/v1/images/generations")

  payload = {
    model: "gpt-4o-image",
    prompt: "æ˜Ÿç©ºä¸‹çš„å¤è€åŸå ¡",
    size: "1:1",
    n: 1,
    image_urls: [
      "https://cdn.apimart.ai/doc/9998238784524590-549804af-14bc-4fbc-bae5-9d8469d35de3-image_task_01K889V97T2YF8RHQW21XMVMS1_0.png"
    ]
  }

  http = Net::HTTP.new(url.host, url.port)
  http.use_ssl = true

  request = Net::HTTP::Post.new(url)
  request["Authorization"] = "Bearer <token>"
  request["Content-Type"] = "application/json"
  request.body = payload.to_json

  response = http.request(request)
  puts response.body
  ```

  ```swift Swift theme={null}
  import Foundation

  let url = URL(string: "https://api.apimart.ai/v1/images/generations")!

  let payload: [String: Any] = [
      "model": "gpt-4o-image",
      "prompt": "æ˜Ÿç©ºä¸‹çš„å¤è€åŸå ¡",
      "size": "1:1",
      "n": 1,
      "image_urls": [
          "https://cdn.apimart.ai/doc/9998238784524590-549804af-14bc-4fbc-bae5-9d8469d35de3-image_task_01K889V97T2YF8RHQW21XMVMS1_0.png"
      ]
  ]

  var request = URLRequest(url: url)
  request.httpMethod = "POST"
  request.setValue("Bearer <token>", forHTTPHeaderField: "Authorization")
  request.setValue("application/json", forHTTPHeaderField: "Content-Type")
  request.httpBody = try? JSONSerialization.data(withJSONObject: payload)

  let task = URLSession.shared.dataTask(with: request) { data, response, error in
      if let error = error {
          print("é”™è¯¯: \(error)")
          return
      }

      if let data = data, let responseString = String(data: data, encoding: .utf8) {
          print(responseString)
      }
  }

  task.resume()
  ```

  ```csharp C# theme={null}
  using System;
  using System.Net.Http;
  using System.Text;
  using System.Threading.Tasks;

  class Program
  {
      static async Task Main(string[] args)
      {
          var url = "https://api.apimart.ai/v1/images/generations";

          var payload = @"{
              ""model"": ""gpt-4o-image"",
              ""prompt"": ""æ˜Ÿç©ºä¸‹çš„å¤è€åŸå ¡"",
              ""size"": ""1:1"",
              ""n"": 1,
              ""image_urls"": [
                  ""https://cdn.apimart.ai/doc/9998238784524590-549804af-14bc-4fbc-bae5-9d8469d35de3-image_task_01K889V97T2YF8RHQW21XMVMS1_0.png""
              ]
          }";

          using var client = new HttpClient();
          client.DefaultRequestHeaders.Add("Authorization", "Bearer <token>");

          var content = new StringContent(payload, Encoding.UTF8, "application/json");
          var response = await client.PostAsync(url, content);
          var result = await response.Content.ReadAsStringAsync();

          Console.WriteLine(result);
      }
  }
  ```

  ```c C theme={null}
  #include <stdio.h>
  #include <curl/curl.h>

  int main(void) {
      CURL *curl;
      CURLcode res;

      curl_global_init(CURL_GLOBAL_DEFAULT);
      curl = curl_easy_init();

      if(curl) {
          const char *url = "https://api.apimart.ai/v1/images/generations";
          const char *payload = "{"
              "\"model\":\"gpt-4o-image\","
              "\"prompt\":\"æ˜Ÿç©ºä¸‹çš„å¤è€åŸå ¡\","
              "\"size\":\"1:1\","
              "\"n\":1,"
              "\"image_urls\":[\"https://cdn.apimart.ai/doc/9998238784524590-549804af-14bc-4fbc-bae5-9d8469d35de3-image_task_01K889V97T2YF8RHQW21XMVMS1_0.png\"]"
          "}";

          struct curl_slist *headers = NULL;
          headers = curl_slist_append(headers, "Authorization: Bearer <token>");
          headers = curl_slist_append(headers, "Content-Type: application/json");

          curl_easy_setopt(curl, CURLOPT_URL, url);
          curl_easy_setopt(curl, CURLOPT_POSTFIELDS, payload);
          curl_easy_setopt(curl, CURLOPT_HTTPHEADER, headers);

          res = curl_easy_perform(curl);

          if(res != CURLE_OK) {
              fprintf(stderr, "curl_easy_perform() failed: %s\n",
                      curl_easy_strerror(res));
          }

          curl_slist_free_all(headers);
          curl_easy_cleanup(curl);
      }

      curl_global_cleanup();
      return 0;
  }
  ```

  ```objectivec Objective-C theme={null}
  #import <Foundation/Foundation.h>

  int main(int argc, const char * argv[]) {
      @autoreleasepool {
          NSURL *url = [NSURL URLWithString:@"https://api.apimart.ai/v1/images/generations"];

          NSDictionary *payload = @{
              @"model": @"gpt-4o-image",
              @"prompt": @"æ˜Ÿç©ºä¸‹çš„å¤è€åŸå ¡",
              @"size": @"1:1",
              @"n": @1,
              @"image_urls": @[
                  @"https://cdn.apimart.ai/doc/9998238784524590-549804af-14bc-4fbc-bae5-9d8469d35de3-image_task_01K889V97T2YF8RHQW21XMVMS1_0.png"
              ]
          };

          NSError *error;
          NSData *jsonData = [NSJSONSerialization dataWithJSONObject:payload
                                                            options:0
                                                              error:&error];

          NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];
          [request setHTTPMethod:@"POST"];
          [request setValue:@"Bearer <token>" forHTTPHeaderField:@"Authorization"];
          [request setValue:@"application/json" forHTTPHeaderField:@"Content-Type"];
          [request setHTTPBody:jsonData];

          NSURLSessionDataTask *task = [[NSURLSession sharedSession]
              dataTaskWithRequest:request
              completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {
                  if (error) {
                      NSLog(@"é”™è¯¯: %@", error);
                      return;
                  }
                  NSString *result = [[NSString alloc] initWithData:data
                                                          encoding:NSUTF8StringEncoding];
                  NSLog(@"%@", result);
              }];

          [task resume];
          [[NSRunLoop mainRunLoop] run];
      }
      return 0;
  }
  ```

  ```ocaml OCaml theme={null}
  (* Requires cohttp and yojson libraries *)
  open Lwt
  open Cohttp
  open Cohttp_lwt_unix

  let url = "https://api.apimart.ai/v1/images/generations"

  let payload = {|{
    "model": "gpt-4o-image",
    "prompt": "æ˜Ÿç©ºä¸‹çš„å¤è€åŸå ¡",
    "size": "1:1",
    "n": 1,
    "image_urls": [
      "https://cdn.apimart.ai/doc/9998238784524590-549804af-14bc-4fbc-bae5-9d8469d35de3-image_task_01K889V97T2YF8RHQW21XMVMS1_0.png"
    ]
  }|}

  let () =
    let headers = Header.init ()
      |> fun h -> Header.add h "Authorization" "Bearer <token>"
      |> fun h -> Header.add h "Content-Type" "application/json"
    in
    let body = Cohttp_lwt.Body.of_string payload in

    let response = Client.post ~headers ~body (Uri.of_string url) >>= fun (resp, body) ->
      body |> Cohttp_lwt.Body.to_string >|= fun body_str ->
      print_endline body_str
    in
    Lwt_main.run response
  ```

  ```dart Dart theme={null}
  import 'dart:convert';
  import 'package:http/http.dart' as http;

  void main() async {
    final url = Uri.parse('https://api.apimart.ai/v1/images/generations');

    final payload = {
      'model': 'gpt-4o-image',
      'prompt': 'æ˜Ÿç©ºä¸‹çš„å¤è€åŸå ¡',
      'size': '1:1',
      'n': 1,
      'image_urls': [
        'https://cdn.apimart.ai/doc/9998238784524590-549804af-14bc-4fbc-bae5-9d8469d35de3-image_task_01K889V97T2YF8RHQW21XMVMS1_0.png'
      ]
    };

    final response = await http.post(
      url,
      headers: {
        'Authorization': 'Bearer <token>',
        'Content-Type': 'application/json',
      },
      body: jsonEncode(payload),
    );

    print(response.body);
  }
  ```

  ```r R theme={null}
  library(httr)
  library(jsonlite)

  url <- "https://api.apimart.ai/v1/images/generations"

  payload <- list(
    model = "gpt-4o-image",
    prompt = "æ˜Ÿç©ºä¸‹çš„å¤è€åŸå ¡",
    size = "1:1",
    n = 1,
    image_urls = list(
      "https://cdn.apimart.ai/doc/9998238784524590-549804af-14bc-4fbc-bae5-9d8469d35de3-image_task_01K889V97T2YF8RHQW21XMVMS1_0.png"
    )
  )

  response <- POST(
    url,
    add_headers(
      Authorization = "Bearer <token>",
      `Content-Type` = "application/json"
    ),
    body = toJSON(payload, auto_unbox = TRUE),
    encode = "raw"
  )

  cat(content(response, "text"))
  ```
</RequestExample>

<ResponseExample>
  ```json 200 theme={null}
  {
    "code": 200,
    "data": [
      {
        "status": "submitted",
        "task_id": "task_01K8SGYNNNVBQTXNR4MM964S7K"
      }
    ]
  }
  ```

  ```json 400 theme={null}
  {
    "error": {
      "code": 400,
      "message": "è¯·æ±‚å‚æ•°æ— æ•ˆ",
      "type": "invalid_request_error"
    }
  }
  ```

  ```json 401 theme={null}
  {
    "error": {
      "code": 401,
      "message": "è®¤è¯å‡­æ®æ— æ•ˆ",
      "type": "authentication_error"
    }
  }
  ```

  ```json 402 theme={null}
  {
    "error": {
      "code": 402,
      "message": "ä½™é¢ä¸è¶³ã€‚è¯·å……å€¼",
      "type": "payment_required"
    }
  }
  ```

  ```json 403 theme={null}
  {
    "error": {
      "code": 403,
      "message": "è®¿é—®è¢«ç¦æ­¢ã€‚ä½ æ²¡æœ‰æƒé™è®¿é—®æ­¤èµ„æº",
      "type": "permission_error"
    }
  }
  ```

  ```json 429 theme={null}
  {
    "error": {
      "code": 429,
      "message": "è¶…è¿‡é€Ÿç‡é™åˆ¶ã€‚è¯·ç¨åå†è¯•",
      "type": "rate_limit_error"
    }
  }
  ```

  ```json 500 theme={null}
  {
    "error": {
      "code": 500,
      "message": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ã€‚è¯·ç¨åå†è¯•",
      "type": "server_error"
    }
  }
  ```

  ```json 502 theme={null}
  {
    "error": {
      "code": 502,
      "message": "ç½‘å…³é”™è¯¯ã€‚æœåŠ¡å™¨æš‚æ—¶ä¸å¯ç”¨",
      "type": "bad_gateway"
    }
  }
  ```
</ResponseExample>